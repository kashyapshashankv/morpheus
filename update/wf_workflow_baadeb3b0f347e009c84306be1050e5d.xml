<?xml version="1.0" encoding="UTF-8"?><record_update table="wf_workflow_version">
    <wf_workflow_version action="INSERT_OR_UPDATE">
        <active>true</active>
        <activity_stages>{"stages":{},"ends":["2900de392f92301063b224c62799b6a4"],"subflows":[],"activities":{}}</activity_stages>
        <after_business_rules>false</after_business_rules>
        <checked_out/>
        <checked_out_by/>
        <column_renderer display_value="Workflow-driven">a56213111b030100adca1e094f0713ac</column_renderer>
        <condition/>
        <condition_type/>
        <description/>
        <expected_sequences>65009e392f92301063b224c62799b6e9,a5009e392f92301063b224c62799b6e3,91009e392f92301063b224c62799b6e2,2100de392f92301063b224c62799b6a5,2900de392f92301063b224c62799b6a4</expected_sequences>
        <expected_time>1970-01-01 14:00:00</expected_time>
        <expected_time_type/>
        <full_sequences>65009e392f92301063b224c62799b6e9,a5009e392f92301063b224c62799b6e3,91009e392f92301063b224c62799b6e2,2900de392f92301063b224c62799b6a4,2100de392f92301063b224c62799b6a5,29009e392f92301063b224c62799b6e8</full_sequences>
        <journal/>
        <max_activity_count>100</max_activity_count>
        <name>Morpheus (Internal) Provision Instance</name>
        <not_cacheable>false</not_cacheable>
        <on_cancel><![CDATA[// This script executes if the workflow is cancelled.// The global variable context_sys_id contains the sys_id of the cancelled workflow context.]]></on_cancel>
        <order>100</order>
        <pin_type>set_by_activity</pin_type>
        <published>true</published>
        <relative_duration display_value="2 business days by 4pm">3bf802c20a0a0b52008e2859cd8abcf2</relative_duration>
        <requires_ert>true</requires_ert>
        <run_multiple>false</run_multiple>
        <schedule/>
        <stage_field>stage</stage_field>
        <stage_order>computed</stage_order>
        <start display_value="Begin">65009e392f92301063b224c62799b6e9</start>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>5d009e392f92301063b224c62799b6df</sys_id>
        <sys_mod_count>5</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:52:03</sys_updated_on>
        <table>sc_req_item</table>
        <timezone/>
        <validated>false</validated>
        <workflow display_value="Morpheus (Internal) Provision Instance">baadeb3b0f347e009c84306be1050e5d</workflow>
    </wf_workflow_version>
    <wf_workflow action="INSERT_OR_UPDATE">
        <access>public</access>
        <description/>
        <name>Morpheus (Internal) Provision Instance</name>
        <preview/>
        <sys_class_name>wf_workflow</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2017-02-14 21:45:23</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>baadeb3b0f347e009c84306be1050e5d</sys_id>
        <sys_mod_count>2</sys_mod_count>
        <sys_name>Morpheus (Internal) Provision Instance</sys_name>
        <sys_overrides/>
        <sys_package display_value="Morpheus Catalog" source="x_moda_morpheus_ca">8d8b6bbf0ff07e009c84306be1050e67</sys_package>
        <sys_policy/>
        <sys_scope display_value="Morpheus Catalog">8d8b6bbf0ff07e009c84306be1050e67</sys_scope>
        <sys_update_name>wf_workflow_baadeb3b0f347e009c84306be1050e5d</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-11-07 23:56:54</sys_updated_on>
        <table>sc_req_item</table>
        <template>false</template>
        <vars/>
    </wf_workflow>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Completed</name>
        <ola>1970-01-01 00:00:00</ola>
        <order>1100</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>11009e392f92301063b224c62799b6e1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>complete</value>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Delivery</name>
        <ola>1970-01-03 00:00:00</ola>
        <order>140</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>d9009e392f92301063b224c62799b6e1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>delivery</value>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Fulfillment</name>
        <ola>1970-01-02 00:00:00</ola>
        <order>120</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>d5009e392f92301063b224c62799b6e1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>fulfillment</value>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Request Cancelled</name>
        <ola>1970-01-01 00:00:00</ola>
        <order>1000</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>59009e392f92301063b224c62799b6e1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>Request Cancelled</value>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Request Approved</name>
        <ola>1970-01-01 00:00:00</ola>
        <order>90</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>d1009e392f92301063b224c62799b6e1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>request_approved</value>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Waiting for Approval</name>
        <ola>1970-01-02 00:00:00</ola>
        <order>100</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>55009e392f92301063b224c62799b6e1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>waiting_for_approval</value>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
    </wf_stage>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Approval - User">35433da80a0a029a0028c639a1e51eb4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>9</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Approval</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a5009e392f92301063b224c62799b6e3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
        <x>321</x>
        <y>30</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=a5009e392f92301063b224c62799b6e3"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>21009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>// Set 'answer' to the number of seconds this timer should wait&#13;
answer = 0;</value>
        <variable display_value="Due date script">a782cde9c0a8006608f39abdd85c8395</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1330</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>25009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Groups">02c618170a0a0b26436f5c2c9f7a3901</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>2050</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>25009e392f92301063b224c62799b6e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&#13;
//&#13;
// For example:&#13;
//       answer = [];&#13;
//       answer.push('id1');&#13;
//       answer.push('id2');&#13;
</value>
        <variable display_value="Additional approvers script">c35e582f0a0a0ba96248a70985207e63</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>110</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>29009e392f92301063b224c62799b6e3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Schedule based on">a77191a4c0a800662b403f7dff5f1bbd</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>900</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>29009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>08fcd0830a0a0b2600079f56b1adb9ae</value>
        <variable display_value="Schedule">a7754e91c0a800664938d0ef6d2664d7</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1110</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>2d009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Duration">a769a182c0a8006629db7fa3fc2a863d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>61009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Time zone">a775f59ac0a8006665d72362ae687035</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>900</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>61009e392f92301063b224c62799b6e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Schedule field">a774138dc0a80066000be7af20961c7d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1150</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>65009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Due date field">a76b8c6ec0a800664bb14d5d8b9cd7c4</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>69009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>reject</value>
        <variable display_value="When anyone rejects">502163410a6a803f0356332b24dc7945</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>120</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>6d009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Time zone based on">a77903a7c0a8006641af7c9b1d34444e</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1120</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a1009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>3bf802c20a0a0b52008e2859cd8abcf2</value>
        <variable display_value="Relative duration">a76c6257c0a8006645cff43883470e64</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>330</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a5009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>approval_history</value>
        <variable display_value="Approval Journal Column">e863e3b80a0004f911d67787e77e0f16</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>103</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a9009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Document ID">e37b77ac0a0004f973283ad13b341c5b</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a9009e392f92301063b224c62799b6e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Time zone field">a7781cb6c0a80066147dc7a5244d5d16</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1370</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>ad009e392f92301063b224c62799b6e3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&#13;
//&#13;
//    counts.total = total number of users that are part of this approval&#13;
//    counts.approved = # of users that approved so far&#13;
//    counts.rejected = # of users that rejected so far&#13;
//    counts.requested = # of users that are pending approval&#13;
//    counts.not_requested = # of users that are not pending approval&#13;
//    counts.not_required = # of users that approval is not required&#13;
//&#13;
</value>
        <variable display_value="Approval Script">02c86d780a0a0b261e6a356bc893d348</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>ad009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>any</value>
        <variable display_value="Wait for">c35e5bdd0a0a0ba96248a709f495c9ae</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e1009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Users">c35e4cc40a0a0ba96248a7098ec9cb06</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>101</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e5009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>approval</value>
        <variable display_value="Approval Column">e846198f0a0004f91fba434a514ba8b8</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>115</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e5009e392f92301063b224c62799b6e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Due date based on">a76680b9c0a8006661b107d0f21fae67</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>2000</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e9009e392f92301063b224c62799b6e3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>0</value>
        <variable display_value="Advanced">02ca01820a0a0b261cf923fb95f5e1d0</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>104</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e9009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Document Table">e37a96e80a0004f978b47d2d6c5e0b22</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>50</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>ed009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Condition">4485eef70a6a803f6bc4bafa9e999640</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>50</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>ed009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Condition">4485eef70a6a803f6bc4bafa9e999640</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>ad009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>any</value>
        <variable display_value="Wait for">c35e5bdd0a0a0ba96248a709f495c9ae</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>101</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e5009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>approval</value>
        <variable display_value="Approval Column">e846198f0a0004f91fba434a514ba8b8</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>103</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a9009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Document ID">e37b77ac0a0004f973283ad13b341c5b</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>104</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e9009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Document Table">e37a96e80a0004f978b47d2d6c5e0b22</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>110</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>29009e392f92301063b224c62799b6e3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Schedule based on">a77191a4c0a800662b403f7dff5f1bbd</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>115</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e5009e392f92301063b224c62799b6e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Due date based on">a76680b9c0a8006661b107d0f21fae67</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>120</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>6d009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Time zone based on">a77903a7c0a8006641af7c9b1d34444e</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e1009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Users">c35e4cc40a0a0ba96248a7098ec9cb06</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>69009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>reject</value>
        <variable display_value="When anyone rejects">502163410a6a803f0356332b24dc7945</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>330</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a5009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>approval_history</value>
        <variable display_value="Approval Journal Column">e863e3b80a0004f911d67787e77e0f16</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>900</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>29009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>08fcd0830a0a0b2600079f56b1adb9ae</value>
        <variable display_value="Schedule">a7754e91c0a800664938d0ef6d2664d7</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>900</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>61009e392f92301063b224c62799b6e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Schedule field">a774138dc0a80066000be7af20961c7d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1110</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>2d009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Duration">a769a182c0a8006629db7fa3fc2a863d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1120</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a1009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>3bf802c20a0a0b52008e2859cd8abcf2</value>
        <variable display_value="Relative duration">a76c6257c0a8006645cff43883470e64</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1150</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>65009e392f92301063b224c62799b6e6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Due date field">a76b8c6ec0a800664bb14d5d8b9cd7c4</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a9009e392f92301063b224c62799b6e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Time zone field">a7781cb6c0a80066147dc7a5244d5d16</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>61009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Time zone">a775f59ac0a8006665d72362ae687035</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1330</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>25009e392f92301063b224c62799b6e4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value/>
        <variable display_value="Groups">02c618170a0a0b26436f5c2c9f7a3901</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>21009e392f92301063b224c62799b6e5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>// Set 'answer' to the number of seconds this timer should wait&#13;
answer = 0;</value>
        <variable display_value="Due date script">a782cde9c0a8006608f39abdd85c8395</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>1370</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>ad009e392f92301063b224c62799b6e3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&#13;
//&#13;
//    counts.total = total number of users that are part of this approval&#13;
//    counts.approved = # of users that approved so far&#13;
//    counts.rejected = # of users that rejected so far&#13;
//    counts.requested = # of users that are pending approval&#13;
//    counts.not_requested = # of users that are not pending approval&#13;
//    counts.not_required = # of users that approval is not required&#13;
//&#13;
</value>
        <variable display_value="Approval Script">02c86d780a0a0b261e6a356bc893d348</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>2000</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e9009e392f92301063b224c62799b6e3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>0</value>
        <variable display_value="Advanced">02ca01820a0a0b261cf923fb95f5e1d0</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a5009e392f92301063b224c62799b6e3</document_key>
        <order>2050</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>25009e392f92301063b224c62799b6e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&#13;
//&#13;
// For example:&#13;
//       answer = [];&#13;
//       answer.push('id1');&#13;
//       answer.push('id2');&#13;
</value>
        <variable display_value="Additional approvers script">c35e582f0a0a0ba96248a70985207e63</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Approval">a5009e392f92301063b224c62799b6e3</activity>
        <condition>activity.result == 'approved' || activity.result == 'skipped'</condition>
        <condition_default display_value="Approved">586e1fa60a0a0b5c008121ab894f2b06</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Approved</name>
        <order>1</order>
        <short_description>Approval request was approved</short_description>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>61009e392f92301063b224c62799b6e8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Approval">a5009e392f92301063b224c62799b6e3</activity>
        <condition>activity.result == 'rejected'</condition>
        <condition_default display_value="Rejected">586e4ef60a0a0b5c00440b56c014c8a5</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>Rejected</name>
        <order>2</order>
        <short_description>Approval request was rejected</short_description>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>ad009e392f92301063b224c62799b6e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Begin">c7a5e32c0a0a0b3a002377c24ed8ea76</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>1</databus_lookup_id>
        <height/>
        <input/>
        <is_parent>false</is_parent>
        <name>Begin</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>65009e392f92301063b224c62799b6e9</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width>80</width>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
        <x>31</x>
        <y>19</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=65009e392f92301063b224c62799b6e9"/>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Begin">65009e392f92301063b224c62799b6e9</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>6100de392f92301063b224c62799b6a4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="End">c7a66f7d0a0a0b3a004544a6d2f14076</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>2</databus_lookup_id>
        <height/>
        <input/>
        <is_parent>false</is_parent>
        <name>End</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>2900de392f92301063b224c62799b6a4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width>80</width>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
        <x>684</x>
        <y>533</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2900de392f92301063b224c62799b6a4"/>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Log Message">396807940a0a0b5c00afd9f67d9fd7a2</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>10</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Morpheus - Error in creating Instance</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>29009e392f92301063b224c62799b6e8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
        <x>772</x>
        <y>373</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=29009e392f92301063b224c62799b6e8"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>29009e392f92301063b224c62799b6e8</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a9009e392f92301063b224c62799b6e8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>An error occurred while trying to communicate with the Morpheus appliance or when creating the instance</value>
        <variable display_value="Message">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>29009e392f92301063b224c62799b6e8</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a9009e392f92301063b224c62799b6e8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>An error occurred while trying to communicate with the Morpheus appliance or when creating the instance</value>
        <variable display_value="Message">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Morpheus - Error in creating Instance">29009e392f92301063b224c62799b6e8</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>ad009e392f92301063b224c62799b6e8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>4</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Morpheus - Provision Instance</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>91009e392f92301063b224c62799b6e2</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:59</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
        <x>750</x>
        <y>21</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=91009e392f92301063b224c62799b6e2"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>91009e392f92301063b224c62799b6e2</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a5009e392f92301063b224c62799b6e2</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:59</sys_updated_on>
        <value>workflow.info('Logging INFO from inside a script - begin');&#13;
&#13;
provisionInstance();&#13;
&#13;
function provisionInstance() {&#13;
	var utils = new x_moda_morpheus_ca.Utils();&#13;
&#13;
	activity.result = 'success';&#13;
&#13;
	var grItem = new GlideRecord('sc_req_item');&#13;
	if(grItem.get(current.sys_id)){&#13;
&#13;
		var quantity = grItem.quantity;&#13;
&#13;
		var cnt = 0;&#13;
		for(cnt = 0; cnt &lt; quantity; cnt++) {&#13;
&#13;
			var scratchpad = {};&#13;
&#13;
			for (var item in workflow.inputs) {&#13;
				scratchpad[item] = workflow.inputs[item];&#13;
			}&#13;
&#13;
			scratchpad.u_req_item_id = current.sys_id;&#13;
&#13;
			workflow.info('u_req_item_id' + scratchpad.u_req_item_id);&#13;
&#13;
			var lookupUtils = new x_moda_morpheus_ca.LookUpUtils();&#13;
			var user = new GlideRecord('sys_user');&#13;
			user.get(gs.getUserID());&#13;
			var domainSysId = user.sys_domain;&#13;
			var companySysId = user.company.sys_id;&#13;
&#13;
			var authConfig = lookupUtils.fetchAuthConfig(undefined, companySysId, domainSysId);&#13;
			scratchpad.authConfig = authConfig;&#13;
			scratchpad.access_token = authConfig.access_token;&#13;
			var tenantId = authConfig.tenantId;&#13;
&#13;
			if(scratchpad.access_token == '' || typeof(scratchpad.access_token) == 'undefined') {&#13;
				_handleError('Error connecting to Morpheus.  Please verify connection information.');&#13;
			} else {&#13;
				var dataUtils = new x_moda_morpheus_ca.DataUtils();&#13;
&#13;
				utils.log("info", 'in provisionInstance with scratchpad: ' + scratchpad);&#13;
&#13;
				var grItem = new GlideRecord('sc_req_item');&#13;
				grItem.get(scratchpad.u_req_item_id);&#13;
&#13;
				var grCatItem = new GlideRecord('sc_cat_item');&#13;
				grCatItem.get(grItem.cat_item);&#13;
&#13;
				var grCloud = new GlideRecord('x_moda_morpheus_ca_clouds');&#13;
				grCloud.get(scratchpad.cloud);&#13;
&#13;
				var grGroup = new GlideRecord('x_moda_morpheus_ca_group');&#13;
				grGroup.get(scratchpad.group);&#13;
&#13;
				var grPlan = new GlideRecord('x_moda_morpheus_ca_service_plans');&#13;
				grPlan.get(scratchpad.serviceplan);&#13;
&#13;
				var grProvType = new GlideRecord('x_moda_morpheus_ca_provision_type');&#13;
				grProvType.get('externalid', scratchpad.provision_type);&#13;
&#13;
				var grNetwork = new GlideRecord('x_moda_morpheus_ca_network');&#13;
				grNetwork.get(scratchpad.network);&#13;
&#13;
				var grSubnet = new GlideRecord('x_moda_morpheus_ca_subnet');&#13;
				grSubnet.get(scratchpad.subnet);&#13;
&#13;
				var grDatastore = new GlideRecord('x_moda_morpheus_ca_datastore');&#13;
				grDatastore.get(scratchpad.datastore);&#13;
&#13;
				var grResourcePool = new GlideRecord('x_moda_morpheus_ca_resource_pool');&#13;
				grResourcePool.get(scratchpad.resourcepool);&#13;
&#13;
				var instanceName = scratchpad.name;&#13;
				if(cnt &gt; 0) {&#13;
					instanceName = scratchpad.name + "-" + cnt;&#13;
				}&#13;
&#13;
				// Build up the request ot Morpheus&#13;
				var payload = {&#13;
					zoneId: parseInt(grCloud.getValue('external_id')),&#13;
					instance: {&#13;
						name: instanceName.toString(),&#13;
						site: {&#13;
							id: parseInt(grGroup.getValue('external_id'))&#13;
						},&#13;
						instanceType: {&#13;
							code: scratchpad.instance_type.toString()&#13;
						},&#13;
						layout: {&#13;
							id: parseInt(scratchpad.layout_id)&#13;
						},&#13;
						plan: {&#13;
							id: parseInt(grPlan.getValue('external_id'))&#13;
						}&#13;
					},&#13;
					volumes: [&#13;
						{&#13;
							id: -1,&#13;
							rootVolume: true,&#13;
							name: 'root',&#13;
							size: parseInt(scratchpad.disksize),&#13;
							storageType: parseInt(grProvType.rootstoragevolumetypeid),&#13;
							datastoreId: 'auto'&#13;
&#13;
						}&#13;
					],&#13;
					config: {&#13;
						integrationData : {&#13;
							type: 'snow',&#13;
							ritm: current.sys_id.toString()&#13;
						}&#13;
					}&#13;
				};&#13;
&#13;
				// Attempt to set a size on the root disk&#13;
				if(isNaN(payload.volumes[0].size) &amp;&amp; typeof(scratchpad.disksize) == 'undefined' &amp;&amp; !isNaN(grPlan.getValue('max_storage'))) {&#13;
					payload.volumes[0].size = grPlan.getValue('max_storage');&#13;
				}&#13;
&#13;
				// If resource pool is passed...&#13;
				if(scratchpad.resourcepool != '' &amp;&amp; typeof(scratchpad.resourcepool) != 'undefined') {&#13;
					var resourcePoolId = grResourcePool.getValue('morpheus_external_id');&#13;
					if(!isNaN(resourcePoolId)) {&#13;
						// May have to remove the decimal&#13;
						resourcePoolId = Number(resourcePoolId);&#13;
					}&#13;
					payload.resourcePoolId = resourcePoolId;&#13;
				}&#13;
&#13;
				// If networks are configured...&#13;
				if(scratchpad.network != '' &amp;&amp; typeof(scratchpad.network) != 'undefined') {&#13;
					payload.networkInterfaces = [{&#13;
						network: {&#13;
							id: grNetwork.getValue('externalid')&#13;
						},&#13;
						networkInterfaceTypeId: 1&#13;
					}];&#13;
				}&#13;
&#13;
				// If subnets are configured...&#13;
				if(scratchpad.subnet != '' &amp;&amp; typeof(scratchpad.subnet) != 'undefined') {&#13;
					payload.networkInterfaces = [{&#13;
						network: {&#13;
							id: "subnet-" + grSubnet.getValue('externalid')&#13;
						},&#13;
						networkInterfaceTypeId: 1&#13;
					}];&#13;
				}&#13;
&#13;
				// If datastores are configured...&#13;
				if(scratchpad.datastore != '' &amp;&amp; typeof(scratchpad.datastore) != 'undefined') {&#13;
					payload.volumes[0].datastoreId = grDatastore.getValue('external_id');&#13;
				}&#13;
&#13;
				// TODO : Handle networkInterfaceTypeId&#13;
&#13;
				// Any additional options&#13;
				var optionPrefix = 'optiontype_';&#13;
				for(var key in scratchpad) {&#13;
					if(key.indexOf(optionPrefix) == 0) {&#13;
						var lastUnderscore = key.lastIndexOf('_');&#13;
						var configName = key.substring(optionPrefix.length, lastUnderscore);&#13;
&#13;
						// Fetch the variable to obtain the config location&#13;
						var itemOptionNew = dataUtils.getRecord('item_option_new', {name:key}, tenantId);&#13;
						var configLocations = itemOptionNew.field.split(".") // Specifies where to set this value (like on config or config.customOptions)&#13;
						var finalConfigLocation = payload;&#13;
						for (var i = 0; i &lt; configLocations.length; i++) {&#13;
							var curName = configLocations[i];&#13;
							if(typeof(finalConfigLocation[curName]) == 'undefined') {&#13;
								finalConfigLocation[curName] = {};&#13;
							}&#13;
							finalConfigLocation = finalConfigLocation[curName];&#13;
						}&#13;
&#13;
						var lookupSysIdOrValue = scratchpad[key];&#13;
						if(typeof(lookupSysIdOrValue) != 'undefined' &amp;&amp; lookupSysIdOrValue.toString() != '') {&#13;
							var grOption = new GlideRecord('x_moda_morpheus_ca_lookup_values_cloud');&#13;
							grOption.get(lookupSysIdOrValue);&#13;
							if(grOption.isValidRecord()) {&#13;
								finalConfigLocation[configName] = grOption.getValue('value');&#13;
							} else {&#13;
								// Maybe it is a layout option?&#13;
								grOption = new GlideRecord('x_moda_morpheus_ca_lookup_values_layout');&#13;
								grOption.get(lookupSysIdOrValue);&#13;
								if(grOption.isValidRecord()) {&#13;
									finalConfigLocation[configName] = grOption.getValue('value');&#13;
								} else {&#13;
									finalConfigLocation[configName] = lookupSysIdOrValue.toString();&#13;
								}&#13;
							}&#13;
						}&#13;
					}&#13;
				}&#13;
&#13;
				var parser = new global.JSON();&#13;
				var encodedPayload = parser.encode(payload);&#13;
				utils.log("info", 'calling Morpheus to create instance with payload:'+ encodedPayload);&#13;
&#13;
				var createResultBody = utils.callMorpheus('x_moda_morpheus_ca.Morpheus Instance', scratchpad.authConfig, {}, 'post', encodedPayload);&#13;
				if(createResultBody.success == false) {&#13;
					var errorString = 'Error occurred with call to Morpheus: ';&#13;
					for (var err in createResultBody.errors) {&#13;
						errorString += err + '=' + createResultBody.errors[err] + ' ';&#13;
					}&#13;
					_handleError(errorString);&#13;
				} else {&#13;
					utils.log("info", "Successfully created instance in Morpheus with id " + createResultBody.instance.id);&#13;
					grItem.comments = "Successfully created instance: " + gs.getProperty('x_moda_morpheus_ca.morpheus_url') + "/provisioning/instances/" + createResultBody.instance.id;&#13;
					grItem.update();&#13;
				}&#13;
			}&#13;
		}&#13;
	}&#13;
}&#13;
&#13;
function _handleError(msg){&#13;
	activity.result = 'error';&#13;
	activity.fault_description = msg;&#13;
&#13;
	workflow.error('Morpheus - Provision VM: ' + msg);&#13;
}</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>91009e392f92301063b224c62799b6e2</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a5009e392f92301063b224c62799b6e2</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:59</sys_updated_on>
        <value>workflow.info('Logging INFO from inside a script - begin');&#13;
&#13;
provisionInstance();&#13;
&#13;
function provisionInstance() {&#13;
	var utils = new x_moda_morpheus_ca.Utils();&#13;
&#13;
	activity.result = 'success';&#13;
&#13;
	var grItem = new GlideRecord('sc_req_item');&#13;
	if(grItem.get(current.sys_id)){&#13;
&#13;
		var quantity = grItem.quantity;&#13;
&#13;
		var cnt = 0;&#13;
		for(cnt = 0; cnt &lt; quantity; cnt++) {&#13;
&#13;
			var scratchpad = {};&#13;
&#13;
			for (var item in workflow.inputs) {&#13;
				scratchpad[item] = workflow.inputs[item];&#13;
			}&#13;
&#13;
			scratchpad.u_req_item_id = current.sys_id;&#13;
&#13;
			workflow.info('u_req_item_id' + scratchpad.u_req_item_id);&#13;
&#13;
			var lookupUtils = new x_moda_morpheus_ca.LookUpUtils();&#13;
			var user = new GlideRecord('sys_user');&#13;
			user.get(gs.getUserID());&#13;
			var domainSysId = user.sys_domain;&#13;
			var companySysId = user.company.sys_id;&#13;
&#13;
			var authConfig = lookupUtils.fetchAuthConfig(undefined, companySysId, domainSysId);&#13;
			scratchpad.authConfig = authConfig;&#13;
			scratchpad.access_token = authConfig.access_token;&#13;
			var tenantId = authConfig.tenantId;&#13;
&#13;
			if(scratchpad.access_token == '' || typeof(scratchpad.access_token) == 'undefined') {&#13;
				_handleError('Error connecting to Morpheus.  Please verify connection information.');&#13;
			} else {&#13;
				var dataUtils = new x_moda_morpheus_ca.DataUtils();&#13;
&#13;
				utils.log("info", 'in provisionInstance with scratchpad: ' + scratchpad);&#13;
&#13;
				var grItem = new GlideRecord('sc_req_item');&#13;
				grItem.get(scratchpad.u_req_item_id);&#13;
&#13;
				var grCatItem = new GlideRecord('sc_cat_item');&#13;
				grCatItem.get(grItem.cat_item);&#13;
&#13;
				var grCloud = new GlideRecord('x_moda_morpheus_ca_clouds');&#13;
				grCloud.get(scratchpad.cloud);&#13;
&#13;
				var grGroup = new GlideRecord('x_moda_morpheus_ca_group');&#13;
				grGroup.get(scratchpad.group);&#13;
&#13;
				var grPlan = new GlideRecord('x_moda_morpheus_ca_service_plans');&#13;
				grPlan.get(scratchpad.serviceplan);&#13;
&#13;
				var grProvType = new GlideRecord('x_moda_morpheus_ca_provision_type');&#13;
				grProvType.get('externalid', scratchpad.provision_type);&#13;
&#13;
				var grNetwork = new GlideRecord('x_moda_morpheus_ca_network');&#13;
				grNetwork.get(scratchpad.network);&#13;
&#13;
				var grSubnet = new GlideRecord('x_moda_morpheus_ca_subnet');&#13;
				grSubnet.get(scratchpad.subnet);&#13;
&#13;
				var grDatastore = new GlideRecord('x_moda_morpheus_ca_datastore');&#13;
				grDatastore.get(scratchpad.datastore);&#13;
&#13;
				var grResourcePool = new GlideRecord('x_moda_morpheus_ca_resource_pool');&#13;
				grResourcePool.get(scratchpad.resourcepool);&#13;
&#13;
				var instanceName = scratchpad.name;&#13;
				if(cnt &gt; 0) {&#13;
					instanceName = scratchpad.name + "-" + cnt;&#13;
				}&#13;
&#13;
				// Build up the request ot Morpheus&#13;
				var payload = {&#13;
					zoneId: parseInt(grCloud.getValue('external_id')),&#13;
					instance: {&#13;
						name: instanceName.toString(),&#13;
						site: {&#13;
							id: parseInt(grGroup.getValue('external_id'))&#13;
						},&#13;
						instanceType: {&#13;
							code: scratchpad.instance_type.toString()&#13;
						},&#13;
						layout: {&#13;
							id: parseInt(scratchpad.layout_id)&#13;
						},&#13;
						plan: {&#13;
							id: parseInt(grPlan.getValue('external_id'))&#13;
						}&#13;
					},&#13;
					volumes: [&#13;
						{&#13;
							id: -1,&#13;
							rootVolume: true,&#13;
							name: 'root',&#13;
							size: parseInt(scratchpad.disksize),&#13;
							storageType: parseInt(grProvType.rootstoragevolumetypeid),&#13;
							datastoreId: 'auto'&#13;
&#13;
						}&#13;
					],&#13;
					config: {&#13;
						integrationData : {&#13;
							type: 'snow',&#13;
							ritm: current.sys_id.toString()&#13;
						}&#13;
					}&#13;
				};&#13;
&#13;
				// Attempt to set a size on the root disk&#13;
				if(isNaN(payload.volumes[0].size) &amp;&amp; typeof(scratchpad.disksize) == 'undefined' &amp;&amp; !isNaN(grPlan.getValue('max_storage'))) {&#13;
					payload.volumes[0].size = grPlan.getValue('max_storage');&#13;
				}&#13;
&#13;
				// If resource pool is passed...&#13;
				if(scratchpad.resourcepool != '' &amp;&amp; typeof(scratchpad.resourcepool) != 'undefined') {&#13;
					var resourcePoolId = grResourcePool.getValue('morpheus_external_id');&#13;
					if(!isNaN(resourcePoolId)) {&#13;
						// May have to remove the decimal&#13;
						resourcePoolId = Number(resourcePoolId);&#13;
					}&#13;
					payload.resourcePoolId = resourcePoolId;&#13;
				}&#13;
&#13;
				// If networks are configured...&#13;
				if(scratchpad.network != '' &amp;&amp; typeof(scratchpad.network) != 'undefined') {&#13;
					payload.networkInterfaces = [{&#13;
						network: {&#13;
							id: grNetwork.getValue('externalid')&#13;
						},&#13;
						networkInterfaceTypeId: 1&#13;
					}];&#13;
				}&#13;
&#13;
				// If subnets are configured...&#13;
				if(scratchpad.subnet != '' &amp;&amp; typeof(scratchpad.subnet) != 'undefined') {&#13;
					payload.networkInterfaces = [{&#13;
						network: {&#13;
							id: "subnet-" + grSubnet.getValue('externalid')&#13;
						},&#13;
						networkInterfaceTypeId: 1&#13;
					}];&#13;
				}&#13;
&#13;
				// If datastores are configured...&#13;
				if(scratchpad.datastore != '' &amp;&amp; typeof(scratchpad.datastore) != 'undefined') {&#13;
					payload.volumes[0].datastoreId = grDatastore.getValue('external_id');&#13;
				}&#13;
&#13;
				// TODO : Handle networkInterfaceTypeId&#13;
&#13;
				// Any additional options&#13;
				var optionPrefix = 'optiontype_';&#13;
				for(var key in scratchpad) {&#13;
					if(key.indexOf(optionPrefix) == 0) {&#13;
						var lastUnderscore = key.lastIndexOf('_');&#13;
						var configName = key.substring(optionPrefix.length, lastUnderscore);&#13;
&#13;
						// Fetch the variable to obtain the config location&#13;
						var itemOptionNew = dataUtils.getRecord('item_option_new', {name:key}, tenantId);&#13;
						var configLocations = itemOptionNew.field.split(".") // Specifies where to set this value (like on config or config.customOptions)&#13;
						var finalConfigLocation = payload;&#13;
						for (var i = 0; i &lt; configLocations.length; i++) {&#13;
							var curName = configLocations[i];&#13;
							if(typeof(finalConfigLocation[curName]) == 'undefined') {&#13;
								finalConfigLocation[curName] = {};&#13;
							}&#13;
							finalConfigLocation = finalConfigLocation[curName];&#13;
						}&#13;
&#13;
						var lookupSysIdOrValue = scratchpad[key];&#13;
						if(typeof(lookupSysIdOrValue) != 'undefined' &amp;&amp; lookupSysIdOrValue.toString() != '') {&#13;
							var grOption = new GlideRecord('x_moda_morpheus_ca_lookup_values_cloud');&#13;
							grOption.get(lookupSysIdOrValue);&#13;
							if(grOption.isValidRecord()) {&#13;
								finalConfigLocation[configName] = grOption.getValue('value');&#13;
							} else {&#13;
								// Maybe it is a layout option?&#13;
								grOption = new GlideRecord('x_moda_morpheus_ca_lookup_values_layout');&#13;
								grOption.get(lookupSysIdOrValue);&#13;
								if(grOption.isValidRecord()) {&#13;
									finalConfigLocation[configName] = grOption.getValue('value');&#13;
								} else {&#13;
									finalConfigLocation[configName] = lookupSysIdOrValue.toString();&#13;
								}&#13;
							}&#13;
						}&#13;
					}&#13;
				}&#13;
&#13;
				var parser = new global.JSON();&#13;
				var encodedPayload = parser.encode(payload);&#13;
				utils.log("info", 'calling Morpheus to create instance with payload:'+ encodedPayload);&#13;
&#13;
				var createResultBody = utils.callMorpheus('x_moda_morpheus_ca.Morpheus Instance', scratchpad.authConfig, {}, 'post', encodedPayload);&#13;
				if(createResultBody.success == false) {&#13;
					var errorString = 'Error occurred with call to Morpheus: ';&#13;
					for (var err in createResultBody.errors) {&#13;
						errorString += err + '=' + createResultBody.errors[err] + ' ';&#13;
					}&#13;
					_handleError(errorString);&#13;
				} else {&#13;
					utils.log("info", "Successfully created instance in Morpheus with id " + createResultBody.instance.id);&#13;
					grItem.comments = "Successfully created instance: " + gs.getProperty('x_moda_morpheus_ca.morpheus_url') + "/provisioning/instances/" + createResultBody.instance.id;&#13;
					grItem.update();&#13;
				}&#13;
			}&#13;
		}&#13;
	}&#13;
}&#13;
&#13;
function _handleError(msg){&#13;
	activity.result = 'error';&#13;
	activity.fault_description = msg;&#13;
&#13;
	workflow.error('Morpheus - Provision VM: ' + msg);&#13;
}</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Morpheus - Provision Instance">91009e392f92301063b224c62799b6e2</activity>
        <condition>activity.result == 'error'</condition>
        <condition_default/>
        <condition_type>error</condition_type>
        <else_flag>false</else_flag>
        <error>true</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>Error</name>
        <order>2</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>6d009e392f92301063b224c62799b6e2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Morpheus - Provision Instance">91009e392f92301063b224c62799b6e2</activity>
        <condition>activity.result == 'success'</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>Success</name>
        <order>1</order>
        <short_description>Successfully provisioned a Morpheus Instance</short_description>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a9009e392f92301063b224c62799b6e2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Log Message">396807940a0a0b5c00afd9f67d9fd7a2</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>6</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Provision Successful</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>2100de392f92301063b224c62799b6a5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
        <x>1084</x>
        <y>75</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2100de392f92301063b224c62799b6a5"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2100de392f92301063b224c62799b6a5</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a100de392f92301063b224c62799b6a5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>Morpheus instance was successfully created</value>
        <variable display_value="Message">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2100de392f92301063b224c62799b6a5</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a100de392f92301063b224c62799b6a5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <value>Morpheus instance was successfully created</value>
        <variable display_value="Message">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Provision Successful">2100de392f92301063b224c62799b6a5</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>a500de392f92301063b224c62799b6a5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
    </wf_condition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">6100de392f92301063b224c62799b6a4</condition>
        <from display_value="Begin">65009e392f92301063b224c62799b6e9</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>2500de392f92301063b224c62799b6a8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <to display_value="Approval">a5009e392f92301063b224c62799b6e3</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">a500de392f92301063b224c62799b6a5</condition>
        <from display_value="Provision Successful">2100de392f92301063b224c62799b6a5</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>6900de392f92301063b224c62799b6a8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <to display_value="End">2900de392f92301063b224c62799b6a4</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Approved">61009e392f92301063b224c62799b6e8</condition>
        <from display_value="Approval">a5009e392f92301063b224c62799b6e3</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>6d00de392f92301063b224c62799b6a6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <to display_value="Morpheus - Provision Instance">91009e392f92301063b224c62799b6e2</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Rejected">ad009e392f92301063b224c62799b6e7</condition>
        <from display_value="Approval">a5009e392f92301063b224c62799b6e3</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e100de392f92301063b224c62799b6a7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <to display_value="End">2900de392f92301063b224c62799b6a4</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Error">6d009e392f92301063b224c62799b6e2</condition>
        <from display_value="Morpheus - Provision Instance">91009e392f92301063b224c62799b6e2</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e500de392f92301063b224c62799b6a7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <to display_value="Morpheus - Error in creating Instance">29009e392f92301063b224c62799b6e8</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Success">a9009e392f92301063b224c62799b6e2</condition>
        <from display_value="Morpheus - Provision Instance">91009e392f92301063b224c62799b6e2</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>e900de392f92301063b224c62799b6a7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <to display_value="Provision Successful">2100de392f92301063b224c62799b6a5</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">ad009e392f92301063b224c62799b6e8</condition>
        <from display_value="Morpheus - Error in creating Instance">29009e392f92301063b224c62799b6e8</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>ed00de392f92301063b224c62799b6a7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <to display_value="End">2900de392f92301063b224c62799b6a4</to>
    </wf_transition>
    <wf_estimated_runtime_config action="INSERT_OR_UPDATE">
        <estimated_run_time/>
        <no_of_data_points>1</no_of_data_points>
        <percentage_threshold_ert>20</percentage_threshold_ert>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-08-31 16:51:48</sys_created_on>
        <sys_id>dd009e392f92301063b224c62799b6df</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-08-31 16:51:48</sys_updated_on>
        <workflow_version display_value="Morpheus (Internal) Provision Instance">5d009e392f92301063b224c62799b6df</workflow_version>
    </wf_estimated_runtime_config>
    <wf_workflow_version action="update_multiple" query="workflow=baadeb3b0f347e009c84306be1050e5d^sys_id!=5d009e392f92301063b224c62799b6df">
        <published>false</published>
    </wf_workflow_version>
</record_update>
